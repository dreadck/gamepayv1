# Решение ошибки 403 Forbidden для GamePay

## Проблема
Nginx возвращает ошибку 403 Forbidden при доступе к `gamepay.e-qarz.uz`

## Причина
В Laravel проекте `index.php` должен находиться в директории `public/`, но он был в корне проекта.

## Решение выполнено ✅

1. ✅ Скопирован `index.php` в `public/index.php`
2. ✅ Скопирован `.htaccess` в `public/.htaccess` (если был)

## Настройка OSPanel

### Вариант 1: Если домен указывает на корень проекта

В настройках домена `gamepay.e-qarz.uz` в OSPanel:
- **Путь к проекту**: `C:\OSPanel\home\gamepay\public\public`
- ⚠️ Укажите именно `public\public`, так как Laravel использует `public` как document root

### Вариант 2: Ручная настройка nginx

Найдите конфиг nginx для домена (обычно в `C:\OSPanel\userdata\config\nginx\` или `C:\OSPanel\domains\`)

Создайте файл `gamepay.e-qarz.uz.conf`:

```nginx
server {
    listen 80;
    server_name gamepay.e-qarz.uz;
    
    root C:/OSPanel/home/gamepay/public/public;
    index index.php index.html;
    
    charset utf-8;
    
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
    
    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
    
    location ~ /\.(?!well-known).* {
        deny all;
    }
    
    # Laravel storage link
    location /storage {
        alias C:/OSPanel/home/gamepay/public/storage/app/public;
        try_files $uri $uri/ =404;
    }
}
```

### Шаги:

1. **Остановите nginx** в OSPanel
2. **Добавьте/обновите конфиг** как показано выше
3. **Запустите nginx** снова
4. **Очистите кеш браузера** (Ctrl+F5)

## Проверка

После настройки проверьте:

1. Откройте: `http://gamepay.e-qarz.uz`
2. Должна открыться страница Laravel (или ваша главная страница)
3. Если все еще 403 - проверьте логи: `C:\OSPanel\logs\nginx\error.log`

## Дополнительные проверки

```powershell
# Проверьте существование index.php
Test-Path "C:\OSPanel\home\gamepay\public\public\index.php"

# Должно вернуть: True
```

## Если проблема остается

1. Проверьте права доступа к файлам
2. Убедитесь, что PHP-FPM запущен в OSPanel
3. Проверьте, что порт 80 не занят
4. Посмотрите логи nginx для деталей ошибки

